<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admissibility Physics v3.5 â€” Cosmic Energy Budget</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Source+Sans+3:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:#08080f;font-family:'Source Sans 3','Source Sans Pro',-apple-system,sans-serif;color:#dcdcf0;min-height:100vh;position:relative;overflow-x:hidden}
  .mono{font-family:'JetBrains Mono',monospace}
  .serif{font-family:'Playfair Display',Georgia,serif}
  .section{background:#101020;border:1px solid #1c1c38;border-radius:10px;padding:24px 28px;margin-bottom:20px}
  .section h2{font-family:'Playfair Display',serif;font-size:20px;color:#dcdcf0;letter-spacing:-0.02em}
  .section .sub{color:#8888aa;font-size:12px;font-family:'JetBrains Mono',monospace;margin-top:5px}
  .section .warn{color:#f59e0b;font-size:11.5px;font-family:'JetBrains Mono',monospace;margin-top:6px}
  .badge{display:inline-block;padding:2px 9px;border-radius:16px;font-size:10.5px;font-family:'JetBrains Mono',monospace;letter-spacing:0.03em}
  .stat-box{padding:10px 14px;border-radius:7px;background:#0c0c18;border:1px solid #1c1c38;min-width:110px;flex:1}
  .stat-label{font-size:9.5px;color:#555570;font-family:'JetBrains Mono',monospace;text-transform:uppercase;letter-spacing:0.05em}
  .stat-value{font-size:20px;font-family:'Playfair Display',serif;font-weight:700;margin-top:2px}
  .stat-sub{font-size:10px;color:#8888aa;font-family:'JetBrains Mono',monospace;margin-top:2px}
  .nav-btn{padding:8px 13px;border-radius:7px;border:none;cursor:pointer;font-size:11.5px;font-family:'JetBrains Mono',monospace;background:transparent;color:#8888aa;white-space:nowrap;transition:all 0.2s}
  .nav-btn.active{background:rgba(124,111,247,0.1);color:#7c6ff7}
  .nav-btn:hover{color:#dcdcf0}
  table{width:100%;border-collapse:separate;border-spacing:0 3px}
  th{text-align:left;padding:7px 10px;font-size:10.5px;font-family:'JetBrains Mono',monospace;color:#555570;text-transform:uppercase;letter-spacing:0.05em;border-bottom:1px solid #1c1c38}
  td{padding:9px 10px}
  .step-num{width:22px;height:22px;border-radius:50%;background:rgba(124,111,247,0.1);border:2px solid #7c6ff7;display:flex;align-items:center;justify-content:center;font-size:10px;color:#7c6ff7;font-weight:700;font-family:'JetBrains Mono',monospace;flex-shrink:0}
  .star{position:fixed;border-radius:50%;background:#fff;pointer-events:none}
  @keyframes tw{0%{opacity:0.08}100%{opacity:0.5}}
</style>
</head>
<body>
<div id="stars"></div>
<div id="app" style="max-width:760px;margin:0 auto;padding:36px 18px;position:relative"></div>
<script>
// Stars
(function(){var s=document.getElementById('stars');for(var i=0;i<50;i++){var d=document.createElement('div');d.className='star';d.style.cssText='left:'+Math.random()*100+'%;top:'+Math.random()*100+'%;width:'+(Math.random()*1.2+0.4)+'px;height:'+(Math.random()*1.2+0.4)+'px;opacity:'+(Math.random()*0.4+0.08)+';animation:tw '+(2+Math.random()*4)+'s ease-in-out infinite alternate;animation-delay:'+Math.random()*4+'s';s.appendChild(d);}})();

var C={bg:"#08080f",surface:"#101020",surfaceAlt:"#0c0c18",border:"#1c1c38",text:"#dcdcf0",muted:"#8888aa",dim:"#555570",accent:"#7c6ff7",lambda:"#6366f1",dm:"#a78bfa",baryon:"#38bdf8",ok:"#4ade80",warn:"#fbbf24",bad:"#f87171",regime:"#f59e0b",infra:"#ec4899"};

var BUDGET=[{key:"lambda",label:"Dark Energy (\u039B)",omega:0.6889,color:C.lambda,th:"T11",mech:"Globally locked capacity residual",desc:"Non-redistributable correlations at the cosmological horizon. Uniform accelerated expansion."},{key:"dm",label:"Dark Matter",omega:0.2589,color:C.dm,th:"T12",mech:"Gauge-singlet committed capacity",desc:"Locally committed correlations that bypass the gauge fiber. Cheaper per unit of gravity than baryonic matter."},{key:"baryon",label:"Baryonic Matter",omega:0.0486,color:C.baryon,th:"T3+T4E",mech:"Gauge-charged committed capacity",desc:"Correlations routed through SU(3)\u00D7SU(2)\u00D7U(1). Expensive due to gauge overhead."}];
var RATIO_OBS=0.2589/0.0486;

var PROOF_STEPS={"12A":{title:"Existence",sub:"Gauge-neutral committed correlations must exist",status:"P_structural",dep:"A1-A5 only",steps:[{l:"T3 (gauge)",t:"Gauge charges arise from Aut*(A) acting on the fiber \u2014 internal capacity structure."},{l:"T7 (gravity)",t:"Gravity responds to E_mix \u2260 0 at the base level \u2014 logically independent of fiber routing."},{l:"Independence",t:"A correlation can non-factorize at the base (\u2192 gravitates) without coupling to the fiber (\u2192 no gauge charge)."},{l:"A4 (stability)",t:"Once committed, correlations are irreversible. Gauge-neutral commitments persist \u2014 they are dark matter."}]},"12B":{title:"Dominance",sub:"DM will dominate baryons in capacity-efficient universes",status:"P_structural|R12",dep:"Requires R12.1 + R12.2",steps:[{l:"Gauge overhead [R12.1]",t:"Baryonic correlations cost C_geo + C_gauge per unit. DM costs only C_geo. Overhead \u03B1 > 1."},{l:"Finite budget",t:"From A1: total capacity finite. From T11: fraction globally locked. Remainder finite."},{l:"Efficient allocation [R12.2]",t:"Each unit of baryonic matter costs \u03B1\u00D7 more than DM for the same gravitating mass."},{l:"A4 minimum",t:"Baryonic matter exists at the minimum level A4 requires. Remaining capacity flows to DM."}]},"12C":{title:"Ratio",sub:"\u03A9_DM/\u03A9_b ~ O(\u03B1) \u2014 structural prediction from cost model",status:"C_structural|R12",dep:"R12.1 + T12E f_b derivation",steps:[{l:"\u03B1 from structure",t:"dim(G_SM) = 12 generators. dim(M) = 4 spacetime dims. \u03B1 = 16/4 = 4.0."},{l:"Infrastructure cost [T12E]",t:"Gauge scaffold costs 72\u03B5 fixed (24\u03B5 structure + 40\u03B5 flavor + 8\u03B5 Higgs). n_b \u2265 3."},{l:"f_b from marginal efficiency",t:"f_b = 1/(1+\u03B1) = 0.200. Predicts \u03A9_DM/\u03A9_b = \u03B1 = 4.0."},{l:"Infrastructure tax correction",t:"72\u03B5 fixed cost makes baryons rarer. Observed ratio 5.33 is 25% above \u03B1 = 4.0."}]}};

var DM_PROPS=[{p:"Gauge-neutral",pred:"No color/weak/hypercharge",obs:"No EM or strong coupling",s:"P"},{p:"Stable",pred:"Record-locked per A4",obs:"No observed decay",s:"P"},{p:"Cold",pred:"No gauge self-interaction \u2192 low v",obs:"CDM consistent (LSS, CMB)",s:"P_str"},{p:"Collisionless",pred:"No gauge mediators \u2192 \u03C3/m \u2192 0",obs:"\u03C3/m < 1 cm\u00B2/g (Bullet Cluster)",s:"P_str"},{p:"Gravitating",pred:"E_mix \u2260 0 at base (T7)",obs:"Rotation curves, lensing, CMB",s:"P"},{p:"Dark",pred:"No EM coupling \u2192 no photons",obs:"Defining property of DM",s:"P"},{p:"Dominates baryons",pred:"\u03B1 > 1 \u2192 cheaper per gravity [R12]",obs:"\u03A9_DM/\u03A9_b \u2248 5.3",s:"P_str|R12"}];

var FALSIFY=[{id:"F12.1",cond:"DM found with gauge charge",threat:"Kills identification",sev:"high"},{id:"F12.2",cond:"DM observed to decay",threat:"Challenges A4 irreversibility",sev:"high"},{id:"F12.3",cond:"\u03A9_DM/\u03A9_b \u226B \u03B1 envelope",threat:"Overhead argument insufficient",sev:"medium"},{id:"F12.4",cond:"Pure modified gravity explains ALL DM phenomena",threat:"Challenges T7 load\u2194geometry identification",sev:"medium"},{id:"F12.5",cond:"Strong DM self-interaction (\u03C3/m \u226B 1 cm\u00B2/g)",threat:"Requires non-gauge mediators",sev:"low"}];

var REGIMES=[{id:"R12.1",title:"Dimensional Cost Scaling",body:"Enforcement cost scales linearly with dim(representation). Minimal additive scaling consistent with A1+A3.",risk:"If cost is sublinear, \u03B1 decreases and range shifts. DM still dominates but ratio range widens."},{id:"R12.2",title:"Capacity-Efficient Allocation",body:"The universe allocates capacity efficiently \u2014 doesn't waste finite capacity on avoidable overhead.",risk:"Admissible but inefficient universes are logically possible within A1-A5. Not forced."}];

var AUDIT_CHECKS=[{id:"1a",cat:"Exhaustiveness",q:"Global + local covers all capacity?",a:"Attribution to finite interface is a logical dichotomy \u2014 exhaustive by construction.",ok:true},{id:"2a",cat:"Exclusiveness",q:"Can capacity be both globally locked AND locally committed?",a:"'Globally locked' = NOT attributable to any finite interface. Logical complements.",ok:true},{id:"2b",cat:"Exclusiveness",q:"Can local capacity be both gauge-charged AND gauge-neutral?",a:"Defined by SM quantum numbers: trivial vs nontrivial is a dichotomy.",ok:true},{id:"3a",cat:"Boundaries",q:"Where does radiation fit?",a:"Locally committed + gauge-charged. Late-time: \u03A9_rad \u2248 10\u207B\u2074, negligible.",ok:true},{id:"3b",cat:"Boundaries",q:"Where do neutrinos fit?",a:"Active \u03BD: gauge-charged (SU(2) doublet partner). Sterile \u03BD (if any): gauge-singlet \u2192 DM.",ok:true},{id:"3c",cat:"Boundaries",q:"Does gauge infrastructure (72\u03B5) double-count?",a:"Counted once, in C_gauge. Does not appear in C_singlet or C_global.",ok:true},{id:"3d",cat:"Boundaries",q:"Where do vacuum fluctuations fit?",a:"They don't. Uncommitted possibilities \u2014 not enforced distinctions. This is why the 10\u00B9\u00B2\u2070 problem dissolves.",ok:true},{id:"3e",cat:"Boundaries",q:"DM self-interaction \u2192 reclassify?",a:"Classification by SM gauge charge, not interaction strength. Stays in C_singlet.",ok:true},{id:"4",cat:"Numerical",q:"Does \u03A9_total \u2248 1?",a:"\u03A9_\u039B + \u03A9_DM + \u03A9_b + \u03A9_rad = 0.6889 + 0.2589 + 0.0486 + 0.0001 = 0.9965 \u2248 1.000.",ok:true},{id:"5",cat:"Causality",q:"Can capacity transfer between classes?",a:"Global\u2192Local: NO (A4 irreversibility). Gauge\u2194Singlet: NO (charge conservation).",ok:true}];

var ALPHA_MODELS=[{label:"Full SM (adj + dim M)",dg:12,dgr:4,note:"12 generators + 4 spacetime dims"},{label:"Full SM (adj + pol.)",dg:12,dgr:2,note:"12 generators + 2 graviton polarizations"},{label:"Unbroken (SU(3)\u00D7U\u2081 + dim M)",dg:9,dgr:4,note:"After EW SSB: 9 unbroken + 4 dims"},{label:"Unbroken (SU(3)\u00D7U\u2081 + pol.)",dg:9,dgr:2,note:"After EW SSB: 9 + 2 polarizations"},{label:"Casimir-weighted (C\u2082 proxy)",dg:15,dgr:2,note:"Weighted sum \u2192 15 + 2"}];

function badge(t,c){return '<span class="badge" style="background:'+c+'1a;color:'+c+';border:1px solid '+c+'33">'+t+'</span>';}
function stat(label,value,color,sub){return '<div class="stat-box"><div class="stat-label">'+label+'</div><div class="stat-value" style="color:'+(color||C.text)+'">'+value+'</div>'+(sub?'<div class="stat-sub">'+sub+'</div>':'')+'</div>';}
function pct(v){return (v*100).toFixed(1)+'%';}

var activeTab='budget';
var activeProof='12A';
var TABS=[{id:'budget',l:'Budget'},{id:'proof',l:'Proof Chain'},{id:'cost',l:'Cost Model'},{id:'audit',l:'Ledger Audit'},{id:'props',l:'Properties'},{id:'assume',l:'Assumptions'},{id:'falsify',l:'Falsifiability'}];

function renderNav(){
  return '<div style="display:flex;gap:3px;margin-bottom:20px;overflow-x:auto;padding:2px 0;flex-wrap:wrap">'+TABS.map(function(t){return '<button class="nav-btn'+(activeTab===t.id?' active':'')+'" onclick="activeTab=\''+t.id+'\';renderApp()">'+t.l+'</button>';}).join('')+'</div>';
}

function renderBudget(){
  // Pie chart as SVG
  var total=BUDGET.reduce(function(s,b){return s+b.omega},0);
  var startAngle=-Math.PI/2;
  var paths='';
  BUDGET.forEach(function(b){
    var angle=b.omega/total*2*Math.PI;
    var endAngle=startAngle+angle;
    var x1=50+40*Math.cos(startAngle),y1=50+40*Math.sin(startAngle);
    var x2=50+40*Math.cos(endAngle),y2=50+40*Math.sin(endAngle);
    var ix1=50+22*Math.cos(startAngle),iy1=50+22*Math.sin(startAngle);
    var ix2=50+22*Math.cos(endAngle),iy2=50+22*Math.sin(endAngle);
    var large=angle>Math.PI?1:0;
    paths+='<path d="M'+ix1+' '+iy1+' L'+x1+' '+y1+' A40 40 0 '+large+' 1 '+x2+' '+y2+' L'+ix2+' '+iy2+' A22 22 0 '+large+' 0 '+ix1+' '+iy1+'" fill="'+b.color+'" opacity="0.85"/>';
    startAngle=endAngle;
  });
  var pie='<svg viewBox="0 0 100 100" style="width:200px;height:200px;display:block;flex-shrink:0">'+paths+'<text x="50" y="47" text-anchor="middle" fill="#555570" font-size="4" font-family="monospace">\u03A9_total</text><text x="50" y="55" text-anchor="middle" fill="#dcdcf0" font-size="8" font-family="Playfair Display,serif" font-weight="700">'+total.toFixed(3)+'</text></svg>';

  var items='';
  BUDGET.forEach(function(b){
    items+='<div style="padding:12px 14px;margin-bottom:6px;border-radius:7px;border:1px solid '+b.color+'33"><div style="display:flex;justify-content:space-between;align-items:center"><div style="display:flex;align-items:center;gap:9px"><div style="width:9px;height:9px;border-radius:50%;background:'+b.color+'"></div><span style="font-size:13.5px">'+b.label+'</span>'+badge(b.th,b.color)+'</div><div class="mono" style="font-size:15px;color:'+b.color+';font-weight:600">'+pct(b.omega)+'</div></div><div style="font-size:11.5px;color:#8888aa;margin-top:5px;margin-left:18px">'+b.mech+'</div></div>';
  });

  return '<div class="section"><h2>Cosmic Energy Budget</h2><p class="sub">Complete capacity ledger \u2014 three structurally distinct classes</p><div style="margin-top:18px;display:flex;gap:28px;flex-wrap:wrap;align-items:flex-start">'+pie+'<div style="flex:1;min-width:250px">'+items+'</div></div></div>';
}

function renderProof(){
  var keys=Object.keys(PROOF_STEPS);
  var tabs='<div style="display:flex;gap:6px;margin-bottom:18px">'+keys.map(function(k){var p=PROOF_STEPS[k];var act=activeProof===k;return '<button style="flex:1;padding:10px 6px;border-radius:7px;cursor:pointer;border:1px solid '+(act?C.accent+'55':C.border)+';background:'+(act?C.accent+'12':'transparent')+';font-family:inherit" onclick="activeProof=\''+k+'\';renderApp()"><div class="mono" style="font-size:12.5px;color:'+(act?C.accent:C.muted)+';font-weight:600">T'+k+'</div><div style="font-size:11.5px;color:'+(act?C.text:C.dim)+';margin-top:3px">'+p.title+'</div></button>';}).join('')+'</div>';

  var pr=PROOF_STEPS[activeProof];
  var sc=pr.status.includes('|R12')?C.regime:pr.status.startsWith('P')?C.ok:C.warn;
  var steps='';
  pr.steps.forEach(function(s,i){
    var lc=s.l.includes('[R12')?C.regime:C.accent;
    steps+='<div style="display:flex;gap:12px"><div style="display:flex;flex-direction:column;align-items:center;width:22px;flex-shrink:0"><div class="step-num">'+(i+1)+'</div>'+(i<pr.steps.length-1?'<div style="width:1.5px;flex:1;background:'+C.accent+'28;min-height:16px"></div>':'')+'</div><div style="padding-bottom:'+(i<pr.steps.length-1?'14':'0')+'px;flex:1"><div class="mono" style="font-size:11.5px;color:'+lc+';font-weight:600;margin-bottom:3px">'+s.l+'</div><div style="font-size:12.5px;color:#8888aa;line-height:1.55">'+s.t+'</div></div></div>';
  });

  return '<div class="section"><h2>Derivation Chain</h2><p class="sub">Three-part proof: existence \u2192 dominance \u2192 ratio</p><div style="margin-top:18px">'+tabs+'<div style="padding:16px 18px;border-radius:8px;background:'+C.bg+';border:1px solid '+C.border+'"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><span class="serif" style="font-size:15px">'+pr.sub+'</span>'+badge(pr.status,sc)+'</div><div class="mono" style="font-size:11px;color:'+C.regime+';margin-bottom:14px">'+pr.dep+'</div>'+steps+'</div></div></div>';
}

function renderCost(){
  var infra=[{name:"Gauge structure",cost:24,color:C.baryon,detail:"\u03BA \u00D7 dim(G_SM) = 2 \u00D7 12"},{name:"Flavor (3 gen)",cost:40,color:C.accent,detail:"\u03BA \u00D7 D(3) = 2 \u00D7 20"},{name:"Higgs sector",cost:8,color:C.warn,detail:"\u03BA \u00D7 4 dof = 2 \u00D7 4"}];
  var boxes='';infra.forEach(function(d){boxes+='<div style="flex:1;min-width:140px;padding:14px 16px;border-radius:8px;background:'+C.surfaceAlt+';border:1px solid '+d.color+'22"><div style="font-size:10px;color:'+C.dim+'" class="mono">'+d.name.toUpperCase()+'</div><div class="serif" style="font-size:24px;color:'+d.color+';font-weight:700;margin:5px 0">'+d.cost+'<span style="font-size:13px;color:#8888aa">\u03B5</span></div><div class="mono" style="font-size:10.5px;color:#8888aa">'+d.detail+'</div></div>';});

  var alphaRows='';ALPHA_MODELS.forEach(function(m,i){
    var a=(m.dg+m.dgr)/m.dgr;var rLo=a*(1-0.5)/0.5;var rHi=a*(1-1/3)/(1/3);var ok=rLo<=RATIO_OBS&&RATIO_OBS<=rHi;
    alphaRows+='<tr style="background:'+(i%2?C.surfaceAlt:'transparent')+'"><td style="font-size:12.5px;color:'+C.text+'">'+m.label+'</td><td class="mono" style="font-size:13px;color:'+C.accent+';font-weight:600">'+a.toFixed(2)+'</td><td class="mono" style="font-size:12px;color:#8888aa">['+rLo.toFixed(1)+', '+rHi.toFixed(1)+']</td><td style="text-align:center;font-size:14px;color:'+(ok?C.ok:C.bad)+'">'+(ok?'\u2713':'\u2717')+'</td></tr>';
  });

  return '<div class="section"><h2>Gauge Infrastructure Cost</h2><p class="sub">The A4-mandatory capacity tax on the baryonic sector</p><p class="warn">\u26A0 All costs in units of \u03B5 (enforcement quantum from T_\u03B5)</p><div style="margin-top:18px;display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px">'+boxes+'</div><div style="padding:14px 16px;border-radius:8px;background:'+C.infra+'08;border:1px solid '+C.infra+'22;display:flex;justify-content:space-between;align-items:center"><div><div class="mono" style="font-size:10px;color:'+C.dim+';text-transform:uppercase">Total mandatory overhead</div><div class="mono" style="font-size:11px;color:#8888aa;margin-top:3px">Structure + flavor + Higgs \u2014 paid once for ANY baryonic matter</div></div><div class="serif" style="font-size:30px;color:'+C.infra+';font-weight:700">72<span style="font-size:14px;color:#8888aa">\u03B5</span></div></div></div>'+
  '<div class="section"><h2>Baryon Fraction f_b</h2><p class="sub">Infrastructure amortization + marginal efficiency \u2192 structural prediction</p><div style="margin-top:18px"><div style="font-size:12.5px;color:#8888aa;line-height:1.6;margin-bottom:16px">The gauge infrastructure (72\u03B5) must be amortized: each baryonic unit costs 32\u03B5. Minimum baryonic units: <span class="mono" style="color:'+C.infra+'">n_b \u2265 \u2308 72/32 \u2309 = 3</span>. Under marginal efficiency (R12.2), every additional matter unit goes to DM (8\u03B5 each). This gives <span class="mono" style="color:'+C.infra+'">f_b = 1/(1+\u03B1) = 0.200</span>.</div><div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px">'+stat("n_b min","3",C.baryon,"infra / C_baryon")+stat("\u03B1","4.0",C.accent,"cost overhead")+stat("f_b predicted","0.200",C.infra,"= 1/(1+\u03B1)")+stat("\u03A9_DM/\u03A9_b pred","4.0",C.dm,"predicted")+stat("\u03A9_DM/\u03A9_b obs","5.33",C.ok,"Planck 2018")+'</div><div style="padding:12px 16px;border-radius:7px;border:1px dashed '+C.ok+'33;background:'+C.ok+'08;font-size:12.5px;color:#8888aa;line-height:1.6"><strong style="color:'+C.ok+'">Result:</strong> Marginal efficiency predicts <strong style="color:'+C.infra+'">\u03A9_DM/\u03A9_b = \u03B1 = 4.0</strong>. Observed: <strong style="color:'+C.ok+'">5.33</strong> (25% above). The gap is explained by the 72\u03B5 gauge infrastructure tax.</div></div></div>'+
  '<div class="section"><h2>Overhead Factor \u03B1 \u2014 Sensitivity Sweep</h2><p class="sub">Which dim counting survives confrontation with data?</p><p class="warn">\u26A0 Range uses f_b \u2208 [\u2153, \u00BD] plausibility bounds; f_b = 0.200 derivation is tighter</p><div style="margin-top:18px;overflow-x:auto"><table><thead><tr><th>Model</th><th>\u03B1</th><th>Predicted range</th><th>Obs 5.33?</th></tr></thead><tbody>'+alphaRows+'</tbody></table></div><div style="margin-top:14px;padding:12px 16px;border-radius:7px;border:1px dashed '+C.ok+'33;background:'+C.ok+'08;font-size:12.5px;color:#8888aa;line-height:1.6"><strong style="color:'+C.ok+'">Data selects the counting:</strong> Only models using <span class="mono" style="color:'+C.ok+'">dim(M) = 4</span> (spacetime dimensions) contain the observed ratio.</div></div>';
}

function renderAudit(){
  var cats=[];AUDIT_CHECKS.forEach(function(c){if(cats.indexOf(c.cat)===-1)cats.push(c.cat)});
  var nPass=AUDIT_CHECKS.filter(function(c){return c.ok}).length;
  var h='<div class="section"><h2>T11 \u2194 T12 Ledger Audit</h2><p class="sub">Verifying the capacity partition is MECE \u2014 no double-counting, no gaps</p><div style="margin-top:18px;font-size:12.5px;color:#8888aa;line-height:1.6;margin-bottom:18px">T11 (\u039B) and T12 (DM) draw from the same capacity ledger. This audit verifies the partition <span class="mono" style="color:'+C.text+'">C_total = C_global + C_gauge + C_singlet</span> is MECE.</div>';
  cats.forEach(function(cat){
    h+='<div class="mono" style="font-size:11px;color:'+C.accent+';text-transform:uppercase;letter-spacing:0.06em;margin-bottom:8px;padding-left:2px">'+cat+'</div>';
    AUDIT_CHECKS.filter(function(c){return c.cat===cat}).forEach(function(c){
      h+='<div style="padding:12px 14px;margin-bottom:5px;border-radius:7px;border:1px solid '+C.border+';background:'+C.surfaceAlt+'"><div style="display:flex;gap:10px;align-items:flex-start"><span style="color:'+(c.ok?C.ok:C.bad)+';font-size:14px;flex-shrink:0;margin-top:1px">'+(c.ok?'\u2713':'\u2717')+'</span><div style="flex:1"><div style="font-size:12.5px;color:'+C.text+';font-weight:500">'+c.q+'</div><div style="font-size:11.5px;color:#8888aa;margin-top:4px;line-height:1.55">'+c.a+'</div></div></div></div>';
    });
  });
  h+='<div style="padding:14px 18px;border-radius:8px;background:'+C.ok+'08;border:1px solid '+C.ok+'30;text-align:center" class="mono" style="font-size:12.5px"><span style="color:'+C.ok+';font-weight:700">'+nPass+'/'+AUDIT_CHECKS.length+' PASS</span> <span style="color:#8888aa">\u2014 Ledger is MECE. \u03A9_total = 0.997 \u2248 1.000</span></div></div>';
  return h;
}

function renderProps(){
  var rows='';DM_PROPS.forEach(function(p,i){
    var sc=p.s.includes('R12')?C.regime:C.ok;
    rows+='<tr style="background:'+(i%2?C.surfaceAlt:'transparent')+'"><td style="font-size:12.5px;color:'+C.text+';font-weight:500">'+p.p+'</td><td class="mono" style="font-size:11.5px;color:#8888aa">'+p.pred+'</td><td style="font-size:11.5px;color:#8888aa">'+p.obs+'</td><td>'+badge('['+p.s+']',sc)+'</td><td style="text-align:center;color:'+C.ok+';font-size:14px">\u2713</td></tr>';
  });
  return '<div class="section"><h2>Structural Predictions vs Observation</h2><p class="sub">No tunable microphysics \u2014 properties follow from gauge-neutrality + A4</p><div style="margin-top:18px;overflow-x:auto"><table><thead><tr><th>Property</th><th>Prediction</th><th>Observation</th><th>Status</th><th></th></tr></thead><tbody>'+rows+'</tbody></table><div style="margin-top:12px;text-align:center" class="mono" style="font-size:12px;color:'+C.ok+'">7/7 consistent \u2014 zero falsifications</div></div></div>';
}

function renderAssume(){
  var items=[{cat:"Derived (A1-A5 only)",color:C.ok,items:["DM exists as capacity stratum","Gravitates (T7)","Stable (A4)","Dark (no gauge charge)","Clusters (local commitment)","Cold (no gauge self-int)"]},{cat:"Derived with T12E (structural)",color:C.infra,items:["f_b = 1/(1+\u03B1) = 0.200","Infrastructure cost = 72\u03B5","n_b \u2265 3 (amortization)","\u03A9_DM/\u03A9_b = \u03B1 = 4.0 (marginal)","Ledger is MECE (10/10 audit)"]},{cat:"Requires regime assumptions (R12)",color:C.regime,items:["DM dominates baryons [R12.1+R12.2]","Ratio ~ O(\u03B1) [R12.1]","\u03B1 \u2208 [3.25, 4.0] from dim counting","Infrastructure tax \u2192 obs/pred gap"]},{cat:"Open problems",color:C.bad,items:["Exact \u03A9_DM value","Cost scaling functional form","Particle-level description","Sub-leading self-interaction bounds","Continuum limit proof"]}];
  var h='';
  h+='<div class="section"><h2>Regime Assumptions</h2><p class="sub">Explicitly stated \u2014 NOT derived from A1-A5</p><p class="warn">\u26A0 Selection principles, not forced consequences. Keep permanently tagged as [R12].</p><div style="margin-top:18px">';
  REGIMES.forEach(function(r){
    h+='<div style="padding:14px 16px;margin-bottom:10px;border-radius:8px;border:1px solid '+C.regime+'22;background:'+C.regime+'06"><div style="display:flex;gap:10px;align-items:center;margin-bottom:6px">'+badge(r.id,C.regime)+'<span style="font-size:13.5px;color:'+C.text+';font-weight:500">'+r.title+'</span></div><div style="font-size:12.5px;color:#8888aa;line-height:1.55;margin-bottom:8px">'+r.body+'</div><div class="mono" style="font-size:11.5px;color:'+C.regime+';line-height:1.5">Risk: '+r.risk+'</div></div>';
  });
  h+='</div></div>';
  h+='<div class="section"><h2>Epistemic Stratification</h2><p class="sub">What is proven vs. what is motivated</p><div style="margin-top:18px">';
  items.forEach(function(g){
    h+='<div style="margin-bottom:14px"><div style="display:flex;align-items:center;gap:8px;margin-bottom:8px"><div style="width:8px;height:8px;border-radius:50%;background:'+g.color+'"></div><span style="font-size:13px;color:'+g.color+';font-weight:600">'+g.cat+'</span></div><div style="display:flex;flex-wrap:wrap;gap:6px;padding-left:16px">';
    g.items.forEach(function(it){h+='<span class="mono" style="padding:4px 10px;border-radius:5px;font-size:11.5px;background:'+g.color+'0c;color:'+g.color+'cc;border:1px solid '+g.color+'22">'+it+'</span>';});
    h+='</div></div>';
  });
  h+='</div></div>';
  return h;
}

function renderFalsify(){
  var sc={high:C.bad,medium:C.warn,low:C.muted};
  var h='<div class="section"><h2>Falsifiability Conditions</h2><p class="sub">What would break this theorem</p><div style="margin-top:18px">';
  FALSIFY.forEach(function(f){
    h+='<div style="display:flex;gap:12px;align-items:flex-start;padding:11px 13px;margin-bottom:6px;border-radius:7px;border:1px solid '+C.border+';background:'+C.surfaceAlt+'"><div class="mono" style="font-size:10.5px;color:'+(sc[f.sev]||C.muted)+';font-weight:700;min-width:42px;flex-shrink:0;margin-top:1px">'+f.id+'</div><div style="flex:1"><div style="font-size:12.5px;color:'+C.text+'">'+f.cond+'</div><div style="font-size:11.5px;color:#8888aa;margin-top:2px">\u2192 '+f.threat+'</div></div>'+badge(f.sev,sc[f.sev]||C.muted)+'</div>';
  });
  h+='</div></div>';return h;
}

function renderApp(){
  var app=document.getElementById('app');
  var h='<header style="margin-bottom:28px"><div class="mono" style="font-size:10.5px;color:'+C.accent+';letter-spacing:0.14em;text-transform:uppercase;margin-bottom:7px">Theorem 12 + 12E \u00B7 Admissibility Physics v3.5</div><h1 class="serif" style="font-size:30px;font-weight:700;line-height:1.2;letter-spacing:-0.03em">Cosmic Energy Budget<br><span style="color:'+C.dm+'">from Capacity Accounting</span></h1><p style="font-size:13.5px;color:#8888aa;margin-top:9px;line-height:1.55;max-width:540px">Dark matter, dark energy, and baryonic matter derived from gauge overhead, infrastructure cost, and ledger partition. No tunable microphysics.</p></header>';

  // Hero stats
  h+='<div style="margin:0 0 20px;padding:20px 24px;border-radius:10px;background:linear-gradient(135deg,'+C.dm+'0a,'+C.lambda+'0a);border:1px solid '+C.dm+'28"><div class="serif" style="text-align:center;font-size:17px;font-style:italic;line-height:1.65;margin-bottom:14px">\u201CDark matter is what you get when you <span style="color:'+C.dm+'">don\u2019t pay the gauge toll</span>.\u201D</div><div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:center">'+stat("Predicted ratio","\u03B1 = 4.0",C.infra,"from f_b = 1/(1+\u03B1)")+stat("Observed","5.33",C.ok,"Planck 2018")+stat("Deviation","25%",C.warn,"infra tax explains")+stat("Infra cost","72\u03B5",C.infra,"gauge tax")+stat("Ledger audit","10/10",C.ok,"MECE clean")+'</div></div>';

  h+=renderNav();

  if(activeTab==='budget')h+=renderBudget();
  else if(activeTab==='proof')h+=renderProof();
  else if(activeTab==='cost')h+=renderCost();
  else if(activeTab==='audit')h+=renderAudit();
  else if(activeTab==='props')h+=renderProps();
  else if(activeTab==='assume')h+=renderAssume();
  else if(activeTab==='falsify')h+=renderFalsify();

  h+='<footer style="margin-top:36px;padding-top:16px;border-top:1px solid '+C.border+';font-size:10.5px;color:'+C.dim+';text-align:center" class="mono">Admissibility Physics v3.5+ \u00B7 T11(\u039B) + T12(DM) + T12E(f_b + audit) + T3/T4E(baryons) \u00B7 R12.1+R12.2 for dominance \u00B7 \u03A9 = 1.00</footer>';
  app.innerHTML=h;
}

renderApp();
</script>
</body>
</html>
